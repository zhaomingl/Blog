---
title: 操作系统复习指导（ZML出品）
data: 2023-1-27
tags: [计算机]
categories: [操作系统]
---

# 操作系统复习指导
[TOC]

## 第一章 操作系统引论

### 1.1操作系统目标、作用

**操作系统目标：**

- 方便性
  - 通过OS命令操纵计算机，方便用户
- 有效性
  - 提高系统资源的利用率
  - 提高系统吞吐量
- 可扩充性
  - OS必须具有很好的可扩充性
  - 与OS的结构有紧密的联系
- 开放性
  - 遵循世界标准规范。特别是开放系统互联OSI

**操作系统作用：**

- 用户与计算机硬件之间的接口
  - 命令方式（UNIX、DOS命令）
  - 系统调用方式（API）
  - GUI方式（Windows、LINUX）
- 计算机系统资源的管理者
  - CPU（处理机管理）
  - 内存（存储器管理）
  - I/O设备管理
  - 文件管理
- 实现对计算机资源的抽象
  - 裸机：无软件的计算机系统
  - 虚拟机：覆盖了软件的及其，向用户提供一个对硬件操作的抽象模型

### 1.2操作系统的基本特征

- 并发性
  - 并发：多个事件在同一时间间隔内发生
  - 并行：多个事件在同一时刻发生
  - 并发是并行的子集
- 共享：系统中的资源可供内存中多个并发执行的进程共同使用
  - 互斥共享方式（临界资源）
  - 同时共享方式（非临界资源）
- 虚拟性：把一个物理实体变为若干个逻辑上的对应物
  - 时分复用技术：虚拟处理机，虚拟设备
  - 空分复用技术：虚拟存储器
- 异步性：并发事件按照各自的速度向前推进，不会因为其他事件的阻塞而等待

### 1.3操作系统的功能

1. 处理机管理功能
   1. 进程控制：创建进程、撤销（终止）进程、状态转换
   2. 进程同步：信号量机制
   3. 进程通信：直接通信、间接通信
   4. 调度：处理机作业调度、处理机进程调度
2. 内存管理功能
   1. 内存分配和回收
      1. 内存分配
      2. 内存回收
   2. 内存保护：
      1. 确保每个用户程序仅在自己内存空间运行
      2. 绝不允许用户程序访问操作系统的程序和数据
   3. 地址映射：
      1. 逻辑地址转换为物理地址
   4. 内存扩充（虚拟存储技术）：
      1. 请求调入功能
      2. 置换功能
3. 设备管理功能：
   1. 完成I/O请求
   2. 提高CPU和I/O设备的利用率
4. 文件管理功能：
   1. 文件存储空间的管理
   2. 目录管理
      1. 按名存取
   3. 文件的读/写管理和保护
5. 操作系统与用户之间的接口：
   1. 用户接口：
      1. 联机用户接口：命令行，说一句指令，执行一句指令
      2. 脱机用户接口：批处理，说一堆指令，执行一堆指令
      3. 图形用户接口：GUI
   2. 程序接口：
      1. 系统调用：能完成特定功能的子程序
      2. 库函数
6. 现代OS的新功能：
   1. 系统安全：
      1. 认证技术、密码技术、访问控制技术、反病毒技术
   2. 网络功能和服务：
      1. 网络通信、资源管理、应用与操作
   3. 支持多媒体：
      1. 接纳控制技术、实时调度、多媒体文件的存储

### 1.4批处理系统、分时系统、实时系统的概念与特点

#### 1.4.1批处理系统

**概念：** 在批处理系统中，用户所提交的作业都先存放在外存上并排成一个队列，称为“后备队列”。然后，由作业调度程序按一定的算法从后备队列中选择若干个作业调入内存，使它们共享CPU和系统中的各种资源。

**特点：** 

- **多道：** 在内存中同时存放多个作业，一个时刻只有一个作业运行，这些作业共享CPU和外部设备等资源。
- **成批：** 用户和作业之间没有交互性。用户自己不能干预自己的作业的运行，发现作业错误不能及时改正。
- 批处理系统的目的是提高系统吞吐量和资源的利用率

#### 1.4.2分时系统

**概念：** 分时系统是指，在一台主机上连接了多个带有显示器和键盘的终端，同时允许多个用户通过自己的终端，以交互方式使用计算机，共享主机中的资源。

**特点：**

- 同时性：计算机系统能被多个用户同时使用
- 独立性：用户和用户之间都是独立操作系统的，在同时操作时并不会发生冲突，破坏，混淆等现象
- 及时性：系统能以最快的速度将结果显示给用户；
- **交互作用性**：用户能和电脑进行人机对话。

#### 1.4.3实时系统

**概念：** 实时系统是指系统能及时响应外部事件的请求，在规定的时间内完成对该事件的处理，并控制所有实时任务协调一致的运行。

**特点：**

- **高精度计时系统**：计时精度是影响实时性的一个重要因素。在实时应用系统中，经常需要精确确定实时地操作某个设备或执行某个任务，或精确的计算一个时间函数。这些不仅依赖于一些硬件提供的时钟精度，也依赖于实时操作系统实现的高精度计时功能。
- **多级中断机制**：一个实时应用系统通常需要处理多种外部信息或事件，但处理的紧迫程度有轻重缓急之分。有的必须立即作出反应，有的则可以延后处理。因此，需要建立多级中断嵌套处理机制，以确保对紧迫程度较高的实时事件进行及时响应和处理。
- **实时调度机制**：实时操作系统不仅要及时响应实时事件中断，同时也要及时调度运行实时任务。但是，处理机调度并不能随心所欲的进行，因为涉及到两个进程之间的切换，只能在确保“安全切换”的时间点上进行，实时调度机制包括两个方面，一是在调度策略和算法上保证优先调度实时任务；二是建立更多“安全切换”时间点，保证及时调度实时任务。

***

## 第二章 进程的描述与控制

### 2.1前趋图

首先了解程序顺序执行：

- 一个较大的程序通常由若干个程序段组成
- 程序在执行时，必须按照某种先后次序逐个执行，仅当前一个操作执行完毕后，才能执行后续操作

**前趋图：**

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/006a202ce6f34ae6941e80fbe4627086~tplv-k3u1fbpfcp-watermark.image?)

1. 是一个有向无循环图，用于描述进程之间执行的先后顺序。
2. 节点表示进程或者程序段，有向边表示前趋关系。
   
- 程序并发执行：采用多道程序技术，将多个程序同时装入内存，使之并发运行。

![image.png](https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/705dbeb3c52645969dbeeff21681b683~tplv-k3u1fbpfcp-watermark.image?)

这时候前趋关系：

![image.png](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d6a9e683f5de47dc8ba6795b382d25c4~tplv-k3u1fbpfcp-watermark.image?)

### 2.2进程的概念

- 进程是程序的一次执行
- 进程是一个程序及其数据在处理机上顺序执行所发生的活动
- 进程是程序在一个数据集合上运行的过程，它是系统进行资源分配和调度的一个独立单位

### 2.3进程的特征

- **动态性（最基本的特征）**：进程是一个动态的概念，进程的创建、撤销、切换、挂起、唤醒等都是动态的（声明周期）。
- 并发性：进程是并发执行的，多个进程可以同时在处理机上运行。
- 独立性：进程是一个独立的单位，拥有自己的地址空间，进程间相互独立，不会相互影响。
- 异步性：按各自独立的、不可预知的速度向前推进。

### 2.4进程与程序的区别

- **程序是静态的，进程是动态的**
- 进程是程序的一个实例，是程序的一次执行
- 程序是进程的代码部分
- 进程在内存中，程序在外存中

### 2.5进程的三种基本状态以及转换

- **就绪状态**：
  - 一个较大的程序通常都由若干个程序段组成
  - 程序在执行时，必须按照某种先后次序逐个执行，仅当迁移操作执行完毕后，才能执行后续操作
- **执行状态**：已经获得CPU，正在执行的状态
  - 单处理机：一个进程处于执行状态
  - 多处理机：多个进程处于执行状态
- **阻塞状态**
  - 正在执行的进程由于发生某事件而展示无法继续执行的状态
  - 典型事件：请求I/O、申请缓冲区、等待子进程结束、等待信号量等
  - 根据阻塞原因，设置多个阻塞队列，如：I/O阻塞队列、等待子进程结束阻塞队列、等待信号量阻塞队列等

三者的转换：

![image.png](https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d1d55aa9c4894fc9b524c21ab2deef44~tplv-k3u1fbpfcp-watermark.image?)

***

## 第三章 处理机调度与死锁

### 3.1高、中、低级调度的概念

调度其实就是对处理机进行一个分配。分配的目的是为了让进程尽快的执行完毕，从而提高系统的吞吐量。在处理机调度的时候可以分为三个级别：

- 高级调度（长程调度/作业调度）：
- 中级调度（中程调度/内存调度）：
- 低级调度（短程调度/进程调度）：

#### 3.1.1高级调度

作业：是一个比程序更加广泛的一个概念。不仅包含了我们所讲的程序，还有数据，以及还配有一个作业说明书。

- 调度对象：作业
- 根据某种算法，决定将外存上处于后备队列中的作业调入内存，并为他们创建进程和分配必要的资源。然后将新线程排在就绪队列上等待调度。（把它从外存等待的一个状态取出来变成一个进程）
- 主要用于多道批处理系统中

#### 3.1.2中级调度

- 调度对象：进程
- 作用：
  - 将暂不运行的进程，调至外存等待
  - 将处于外存上急需运行的进程，调入内存运行

#### 3.1.3低级调度

- 调度对象：进程
- 根据某种调度算法，决定就绪队列中的哪个进程应获得处理机
- 应用与多道批处理、分时和实时OS中

#### 3.1.4进程/作业调度的主要任务

**进程/作业调度任务**

- 保存处理机的现场信息
- 按照某种算法选取进程
- 把处理机分配给进程

![image.png](https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bd2af55197e5432babe264c402119374~tplv-k3u1fbpfcp-watermark.image?)

- 排队器：用于将就绪进程插入相应的就绪队列
- 分派器：用于将选定的进程移除就绪队列
- 上下文切换器：进行新旧进程之间的上下文切换

### 3.2进程调度算法

- 先来先服务调度算法`FCFS`
- 短作业有限调度算法`SJF`
- 优先级调度算法`PR`
- 高响应比优先调度算法`HRRN`

剩下的明天继续......